<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>editor | Lang UI Doc</title>
    <meta name="description" content="Round round round.">
    <link rel="preload stylesheet" href="/lang-ui-docs/assets/style.e9397efb.css" as="style">
    <link rel="modulepreload" href="/lang-ui-docs/assets/app.67ca41c6.js">
    <link rel="modulepreload" href="/lang-ui-docs/assets/work_editor.md.c9062ad5.lean.js">
    
    <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-609f66fb><!--[--><!--]--><!--[--><span tabindex="-1" data-v-8ab7c6af></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-8ab7c6af> Skip to content </a><!--]--><!----><header class="VPNav" data-v-609f66fb data-v-66446b03><div class="VPNavBar has-sidebar" data-v-66446b03 data-v-37d41a43><div class="container" data-v-37d41a43><div class="title" data-v-37d41a43><div class="VPNavBarTitle has-sidebar" data-v-37d41a43 data-v-2f3d65eb><a class="title" href="/lang-ui-docs/" data-v-2f3d65eb><!--[--><!--]--><!----><!--[-->Lang-UI<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-37d41a43><div class="curtain" data-v-37d41a43></div><div class="content-body" data-v-37d41a43><!--[--><!--]--><!----><!----><!----><div class="VPNavBarAppearance appearance" data-v-37d41a43 data-v-b203cd40><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-b203cd40 data-v-79763c0a data-v-0a2eba70><span class="check" data-v-0a2eba70><span class="icon" data-v-0a2eba70><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-79763c0a><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-79763c0a><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-37d41a43 data-v-fe70a7bd data-v-b0ce3d84><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-b0ce3d84><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-b0ce3d84><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-b0ce3d84><div class="VPMenu" data-v-b0ce3d84 data-v-7bffa9cd><!----><!--[--><!--[--><!----><div class="group" data-v-fe70a7bd><div class="item appearance" data-v-fe70a7bd><p class="label" data-v-fe70a7bd>Appearance</p><div class="appearance-action" data-v-fe70a7bd><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-fe70a7bd data-v-79763c0a data-v-0a2eba70><span class="check" data-v-0a2eba70><span class="icon" data-v-0a2eba70><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-79763c0a><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-79763c0a><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-37d41a43 data-v-670493dd><span class="container" data-v-670493dd><span class="top" data-v-670493dd></span><span class="middle" data-v-670493dd></span><span class="bottom" data-v-670493dd></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav" data-v-609f66fb data-v-6226d912><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-6226d912><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-6226d912><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-6226d912>Menu</span></button><a class="top-link" href="#" data-v-6226d912>Return to top</a></div><aside class="VPSidebar" data-v-609f66fb data-v-f125b138><div class="curtain" data-v-f125b138></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-f125b138><span class="visually-hidden" id="sidebar-aria-label" data-v-f125b138> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-f125b138><section class="VPSidebarItem level-0" data-v-f125b138 data-v-9e9ac16f><div class="item" role="button" data-v-9e9ac16f><div class="indicator" data-v-9e9ac16f></div><a class="VPLink link" data-v-9e9ac16f data-v-7cc39089><!--[--><h2 class="text" data-v-9e9ac16f>我们的目标是星辰大海</h2><!--]--><!----></a><!----></div><div class="items" data-v-9e9ac16f><!--[--><div class="VPSidebarItem level-1 is-link" data-v-9e9ac16f data-v-9e9ac16f><div class="item" data-v-9e9ac16f><div class="indicator" data-v-9e9ac16f></div><a class="VPLink link link" href="/lang-ui-docs/intro/teze.html" data-v-9e9ac16f data-v-7cc39089><!--[--><p class="text" data-v-9e9ac16f>项目大纲</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9e9ac16f data-v-9e9ac16f><div class="item" data-v-9e9ac16f><div class="indicator" data-v-9e9ac16f></div><a class="VPLink link link" href="/lang-ui-docs/todos.html" data-v-9e9ac16f data-v-7cc39089><!--[--><p class="text" data-v-9e9ac16f>ToDos</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9e9ac16f data-v-9e9ac16f><div class="item" data-v-9e9ac16f><div class="indicator" data-v-9e9ac16f></div><a class="VPLink link link" href="/lang-ui-docs/guide.html" data-v-9e9ac16f data-v-7cc39089><!--[--><p class="text" data-v-9e9ac16f>规范</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-f125b138><section class="VPSidebarItem level-0" data-v-f125b138 data-v-9e9ac16f><div class="item" role="button" data-v-9e9ac16f><div class="indicator" data-v-9e9ac16f></div><a class="VPLink link" data-v-9e9ac16f data-v-7cc39089><!--[--><h2 class="text" data-v-9e9ac16f>示例</h2><!--]--><!----></a><!----></div><div class="items" data-v-9e9ac16f><!--[--><div class="VPSidebarItem level-1 is-link" data-v-9e9ac16f data-v-9e9ac16f><div class="item" data-v-9e9ac16f><div class="indicator" data-v-9e9ac16f></div><a class="VPLink link link" href="/lang-ui-docs/example/module.html" data-v-9e9ac16f data-v-7cc39089><!--[--><p class="text" data-v-9e9ac16f>如何创建组件库</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-609f66fb data-v-defa13ac><div class="VPDoc has-sidebar has-aside" data-v-defa13ac data-v-fca53d57><div class="container" data-v-fca53d57><div class="aside" data-v-fca53d57><div class="aside-curtain" data-v-fca53d57></div><div class="aside-container" data-v-fca53d57><div class="aside-content" data-v-fca53d57><div class="VPDocAside" data-v-fca53d57 data-v-a69aa6fb><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-a69aa6fb data-v-8ecbaa97><div class="content" data-v-8ecbaa97><div class="outline-marker" data-v-8ecbaa97></div><div class="outline-title" data-v-8ecbaa97>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-8ecbaa97><span class="visually-hidden" id="doc-outline-aria-label" data-v-8ecbaa97> Table of Contents for current page </span><ul class="root" data-v-8ecbaa97 data-v-0eba5460><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-a69aa6fb></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-fca53d57><div class="content-container" data-v-fca53d57><!--[--><!--]--><main class="main" data-v-fca53d57><div style="position:relative;" class="vp-doc _lang-ui-docs_work_editor" data-v-fca53d57><div><h1 id="editor" tabindex="-1">editor <a class="header-anchor" href="#editor" aria-hidden="true">#</a></h1><p>apps/editor，编辑器以及其他页面的存放位置。实际上编辑器页面在src/pages/editor下。</p><h2 id="src-components" tabindex="-1">src/components <a class="header-anchor" href="#src-components" aria-hidden="true">#</a></h2><p>存放着通用的组件，如BasicLayout和BasicHeader，编辑器以外的其他地方也用到</p><h2 id="src-data" tabindex="-1">src/data <a class="header-anchor" href="#src-data" aria-hidden="true">#</a></h2><p><code>event.ts</code>下有事件派发相关的内容，用于对元素进行事件绑定。</p><p><code>editorEvents</code>为事件的定义样例，因为在EditorRight中v-for时没有对其type进行任何限制（过滤），故所有的组件都会有common:link这个事件（不管是图片还是标题），并且Editor对应的select的位置有问题，有多少个input框就重复多少次（如标题就重复了3次），得改。</p><p><code>materials.ts</code>十分重要。在接收新的模块后，你需要在此注册模块的相关信息，包括：</p><ul><li>独一无二的id</li><li>所属栏目（category）</li><li>缩略图（thumbnail）</li><li>挂在window实例上的名称（name，如image就是LcImage，可以尝试在控制台中输入window.LcImage，看看是否有这个）</li><li>工具栏显示名称（title）</li></ul><p>等等。</p><p>至于data，是用来存放该组件的所有历史版本。如果当前缺少所需版本的组件，可以根据data里的，找到对应source，加载其他版本（功能尚未实现）。</p><h2 id="src-pages" tabindex="-1">src/pages <a class="header-anchor" href="#src-pages" aria-hidden="true">#</a></h2><p>类似VueRouter里使用的routes，但相比vite-plugin-page更为一体化，其下的editor所对应页面就是编辑器页面，preview就是预览页面。</p><h3 id="src-pages-editor" tabindex="-1">src/pages/editor <a class="header-anchor" href="#src-pages-editor" aria-hidden="true">#</a></h3><p>components下定义了编辑器的左中右各部分的布局和逻辑：</p><ul><li>EditorLayout。上面我们提到BasicLayout，其中除了BasicHeader之外，剩下的部分就是EditorLayout了，它包括下面三个部分。</li><li>EditorLeft。左边栏，可以叫做工具栏、物料槽，点击、拖拽到画布即可生成物料对应的元素。其中每个按钮都由MaterialBlocks组成（在同级目录下）</li><li>EditorContent，包括页面栏、元素栏和画布（从左到右）。<code>class=&quot;editor-body-pages&quot;</code>对应div为页面栏（pages是复数可以看出），元素栏（<code>class=&quot;editor-body-elements&quot;</code>），还有画布（<code>class=&quot;editor-body-page&quot;</code>，单数page，显示当前页）。</li><li>EditorRight，点击元素时出现的属性编辑栏。当未选中元素时，则显示当前页面的名称等信息。</li></ul><p>注意，布局和逻辑是分开的，为了防止<code>.vue</code>文件的内容过长，影响查找效率，我们选择在<code>.vue</code>中<code>import</code>引入<code>.less</code>文件，而非在<code>.vue</code>中写<code>&lt;style&gt;</code>标签。</p><h2 id="src-store" tabindex="-1">src/store <a class="header-anchor" href="#src-store" aria-hidden="true">#</a></h2><p>状态管理，包含了ProjectStore和EventStore。</p><p>因为每个元素、页面和项目之间都要通信，且要用到一些共用的功能（如更新当前选中的元素<code>setCurrentElementId()</code>、更新项目的json<code>project.value = p.getJson();</code>），因此这些都存放在<code>project.ts</code>的<code>useProjectStore</code>中。</p><p>绑定自定义事件，则在<code>event.ts</code>的useEventStore中定义相关的参数和逻辑。比如，EditorRight的面板就根据该文件的<code>currentType</code>、<code>currentEvents</code>计算属性渲染对应标签（如下拉框），切换选项时EditorRight调用<code>onTypeChange</code>更新对应计算属性<code>currentType</code>等等。</p><h2 id="public" tabindex="-1">public <a class="header-anchor" href="#public" aria-hidden="true">#</a></h2><p>模块（<code>.umd.js</code>）存放位置，同时也用于放置静态文件，</p></div></div></main><!--[--><!--]--><footer class="VPDocFooter" data-v-fca53d57 data-v-193f9e2f><!----><div class="prev-next" data-v-193f9e2f><div class="pager" data-v-193f9e2f><!----></div><div class="pager" data-v-193f9e2f><a class="pager-link next" href="/lang-ui-docs/intro/teze.html" data-v-193f9e2f><span class="desc" data-v-193f9e2f>Next page</span><span class="title" data-v-193f9e2f>项目大纲</span></a></div></div></footer><!--[--><!--]--></div></div></div></div></div><!----><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"example_module.md\":\"3adaef18\",\"example_shared.md\":\"5a2fbb12\",\"guide.md\":\"672a0a42\",\"todos.md\":\"236c178c\",\"work_module.md\":\"720b4eee\",\"work_server.md\":\"f1409fa2\",\"example_server.md\":\"8dff4f8c\",\"work_editor.md\":\"c9062ad5\",\"example_editor.md\":\"2ceff56d\",\"intro_teze.md\":\"e1e5434a\",\"index.md\":\"5bc85243\",\"work_shared.md\":\"819b5c2c\",\"questions.md\":\"d978234b\",\"work_struct.md\":\"6c8ce7a4\",\"requirement.md\":\"0339e62f\"}")</script>
    <script type="module" async src="/lang-ui-docs/assets/app.67ca41c6.js"></script>
    
  </body>
</html>